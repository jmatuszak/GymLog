@using GymLog.Data.Enum
@using GymLog.ViewModels
@model WorkoutSegmentVM
<script src="~/js/site.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>


<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exerciseModal">
    Wybierz ćwiczenie
</button>

<div class="modal fade" id="exerciseModal" tabindex="-1" role="dialog" aria-labelledby="exerciseModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exerciseModalLabel">Wybierz ćwiczenie</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <input type="text" class="form-control" id="searchExercise" placeholder="Wyszukaj ćwiczenie...">
        </div>
        <div id="exerciseList">
          <!-- Tutaj będzie lista ćwiczeń -->
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
        <button type="button" class="btn btn-primary" id="exerciseSelectButton">Wybierz</button>
      </div>
    </div>
  </div>
</div>




<input asp-for="Id" type="hidden" class="form-control">
<input asp-for="ActionName" type="hidden" class="form-control">

<div class="form-group">
    <label asp-for="ExcerciseId">Excercise</label>
    <select asp-for="ExcerciseId"
            asp-items="new SelectList(@Model.Excercises, nameof(Excercise.Id),
                   nameof(Excercise.Name))">
        <option>Select Excercise</option>
    </select>
    <span asp-validation-for="Excercise" class="text-danger"></span>
</div>
<div class="form-group">
    <label asp-for="WeightType">Weight Type</label>
    <select asp-for="WeightType" asp-items="@Html.GetEnumSelectList<WeightType>()">
    </select>
    <span asp-validation-for="WeightType" class="text-danger"></span>
</div>
<div class="form-group">
    <label asp-for="Description">Description</label>
    <input asp-for="Description" class="form-control" placeholder="Description">
    <span asp-validation-for="Description" class="text-danger"></span>
</div>
<div class="form-group">
    <label asp-for="TemplateId">TemplateId</label>
    <input asp-for="TemplateId" class="form-control" placeholder="TemplateId">
    <span asp-validation-for="TemplateId" class="text-danger"></span>
</div>
<input asp-for="ActionName" type="hidden" class="form-control">


@{
    if (Model.Excercises != null)
    {
        @for (int i = 0; i < Model.Excercises.Count; i++)
        {
            <input asp-for="Excercises[i].Id" type="hidden" class="form-control" placeholder="ExcercisesConcatVM[i].Id">
            <input asp-for="Excercises[i].Name" type="hidden" class="form-control" placeholder="ExcercisesConcatVM[i].Name">

        }

    }

}

<div class="form-group">
    @{
        if (Model.SetsVM != null)
        {
            <table>
                <tr class="noBorder">
                    <th width="7%">Set</th>
                    <th>Weight</th>
                    <th>Reps</th>
                </tr>
                @for (int i = 0; i < Model.SetsVM.Count; i++)
                {
                    <tr class="noBorder">
                        <td>@(i + 1)</td>
                        <td>
                            <div class="form-group">
                                <input asp-for="SetsVM[i].Weight" class="form-control" placeholder="Weight">
                                <span asp-validation-for="SetsVM[i].Weight" class="text-danger"></span>
                            </div>
                        </td>


                        <td>
                            <div class="form-group">
                                <input asp-for="SetsVM[i].Reps" class="form-control" placeholder="Reps">
                                <span asp-validation-for="SetsVM[i].Reps" class="text-danger"></span>
                            </div>
                        </td>
                    </tr>
                    <input asp-for="SetsVM[i].Id" type="hidden" class="form-control">
                }
            </table>
        }

    }
</div>



<button type="submit" formaction="/WorkoutSegment/AddSet" class="btn btn-outline-primary">AddSet</button>
<button type="submit" formaction="/WorkoutSegment/RemoveSet" class="btn btn-outline-danger">RemoveSet</button>